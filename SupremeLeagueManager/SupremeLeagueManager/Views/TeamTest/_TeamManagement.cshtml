@model SupremeLeagueManager.Models.TeamTest.TeamTestVM

@if (!(@Model.Team.Name is null))
{
    <div class="mt-5">
        <div id="teamSquad">
            @Html.Partial("_TeamSquad")
        </div>

        <div id="_PlayerSkills">
            @Html.Partial("_PlayerSkills")
        </div>

        <div id="teamSkills">
            @Html.Partial("_TeamSkills")
        </div>

        <div id="dashboard" style="position:absolute; right: -80px; padding: 20px; border: 1px solid #5bc0de; border-radius: 5px; z-index: 100;">
            <div><button class="btn btn-info" id="442" onclick="formationChange(@Model.Team.TeamId, 1)">4-4-2</button></div>
            <div><button class="btn btn-info mt-1" id="433" onclick="formationChange(@Model.Team.TeamId, 2)">4-3-3</button></div>
            <div><button class="btn btn-info mt-1" id="451" onclick="formationChange(@Model.Team.TeamId, 3)">4-5-1</button></div>
            <div><button class="btn btn-info mt-1" id="352" onclick="formationChange(@Model.Team.TeamId, 4)">3-5-2</button></div>
        </div>

    </div>
}
<script type="text/javascript">

    $(document).ready(function () {
        $('#dashboard').hover(
            function () {
                $(this).stop().animate(
                    {
                        right: '5',
                    },
                    500,
                    'easeInSine'
                );
            },
            function () {
                $(this).stop().animate(
                    {
                        right: '-80',
                    },
                    1500,
                    'easeOutBounce'
                );
            });
    });


    function formationChange(teamId, formationId) {

        var Provider = {};

        Provider.TeamId = teamId;
        Provider.FormationId = formationId;
        Provider.Status = 2;

        $.ajax(
            {
                url: "_TeamSquad/TeamTest",
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify({ provider: Provider }),
                success: function () {

                },
                error: function () {
                    alert('Nieoczekiwany błąd');
                }
            })
            .done(function (partialViewResult) {
                $("#teamSquad").html(partialViewResult);
            });

        $.ajax(
            {
                url: "_TeamSkills/TeamTest",
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify({ provider: Provider }),
                success: function () {

                },
                error: function () {
                    alert('Nieoczekiwany błąd');
                }
            })
            .done(function (partialViewResult) {
                $("#teamSkills").html(partialViewResult);
            });
    }

</script>




