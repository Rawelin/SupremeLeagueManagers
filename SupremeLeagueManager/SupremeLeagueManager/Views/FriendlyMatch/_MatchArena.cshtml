@model SupremeLeagueManager.Models.FriendlyMatch.FriendlyMatchVM

<div id="matchArenaView">
    <div style="min-height: 47em;">
        <div class="row mt-1 pt-3 text-center" style="width:100%">
            <div class="col-3"></div>
            <div class="col pane pt-3">
                <img v-bind:src="HomeTeamEmblem()" width="128" height="128" />
                <div class="col mt-3" style="font-size: 32px">{{ HomeTeam.Name }} {{ HomeTeam.City }}</div>
                <div> {{ HomeTeam.Overall }} </div>
            </div>

            <div class="col pane">
                <p class="mb-1" style="font-family: 'Cambria Math', sans-serif; font-size: 96px;">{{ Counter }}</p>
                <div class="row text-center">
                    <div class="col" style="font-size: 32px">1</div>
                    <div class="col" style="font-size: 32px">Vs</div>
                    <div class="col" style="font-size: 32px">0</div>
                </div>
            </div>
            <div class="col pane pt-3">
                <img v-bind:src="AwayTeamEmblem()" width="128" height="128" />
                <div class="col mt-3" style="font-size: 32px">{{ AwayTeam.Name }} {{AwayTeam.City }}</div>
                <div> {{ AwayTeam.Overall }} </div>
            </div>
            <div class="col-3"></div>
        </div>
        <div class="row text-center" style="width:100%">
            <div class="col-3"></div>
            <div class="col pane mt-1 mr-1" style="min-height: 28em;"></div>
            <div class="col pane mt-1 mr-1" style="min-height: 28em;">
                <div class="mt-4 mb-1">Shoots</div>
                <div class="row text-center aligne-midle">
                    <div style="width: 10%; font-size: 18px">8</div>
                    <div class="progress mt-1" style="width: 80%; background-color: blue">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 66%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div style="width: 10%; font-size: 18px">4</div>
                </div>
                <div class="mt-1 mb-1">On Target</div>
                <div class="row text-center aligne-midle">
                    <div style="width: 10%; font-size: 18px">4</div>
                    <div class="progress mt-1" style="width: 80%; background-color: blue">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 80%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div style="width: 10%; font-size: 18px">1</div>
                </div>
                <div class="mt-1 mb-1">OFF Target</div>
                <div class="row text-center aligne-midle">
                    <div style="width: 10%; font-size: 18px">4</div>
                    <div class="progress mt-1" style="width: 80%; background-color: blue">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 60%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div style="width: 10%; font-size: 18px">3</div>
                </div>
                <div class="mt-1 mb-1">Pressing</div>
                <div class="row text-center aligne-midle">
                    <div style="width: 10%; font-size: 18px">60</div>
                    <div class="progress mt-1" style="width: 80%; background-color: blue">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 60%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div style="width: 10%; font-size: 18px">40</div>
                </div>
                <div class="mt-1 mb-1">Possession</div>
                <div class="row text-center aligne-midle">
                    <div style="width: 10%; font-size: 18px">55</div>
                    <div class="progress mt-1" style="width: 80%; background-color: blue">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 55%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div style="width: 10%; font-size: 18px">45</div>
                </div>
                <div class="mt-1 mb-1">Fouls</div>
                <div class="row text-center aligne-midle">
                    <div style="width: 10%; font-size: 18px">3</div>
                    <div class="progress mt-1" style="width: 80%; background-color: blue">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 33%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div style="width: 10%; font-size: 18px">6</div>
                </div>
            </div>
            <div class="col pane mt-1" style="min-height: 28em;"></div>
            <div class="col-3"></div>
        </div>
        <div class="row text-center mt-3">
            <div class="col" id="startMatch">
                <div class="btn btn-outline-danger" v-on:click="StartMatch()">Start Match</div>
                <div class="btn btn-outline-danger" v-on:click="PauseMatch()">Pause Match</div>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">

    var vueMatchArena = new Vue({

        el: '#matchArenaView',
        data: {
            HomeTeam: {},
            AwayTeam: {},
            Counter: 0,
            IntervalId: null,
            Pause: false
        },

        methods: {

            HomeTeamEmblem: function () {
                var src = '/Content/Resources/Emblems/' + this.HomeTeam.Name + this.HomeTeam.City + '.png';
                src = src.replace(" ", "");
                return src;
            },

            AwayTeamEmblem: function () {
                var src = '/Content/Resources/Emblems/' + this.AwayTeam.Name + this.AwayTeam.City + '.png';
                src = src.replace(" ", "");
                return src;
            },

            StartMatch: function () {

                console.log(this.Pause);
                if (this.Pause == false) {
                    this.IntervalId = setInterval(this.CounterStart, 100);
                } else {
                    
                }
            },

            PauseMatch: function () {
              
                if (this.Pause == false) {
                    this.Pause = true;
                  
                } else {
                    this.Pause = false;
                 
                }
            },

            CounterStart: function () {
                if (this.Counter < 91) {
                    this.Counter++;
                    console.log(this.Counter)
                } else {
                    console.log('End')
                    clearInterval(this.IntervalId);
                }
            } 
        },


        created: function () {
           this.HomeTeam = @Html.Raw(Json.Encode(Model.HomeTeam));
           this.AwayTeam = @Html.Raw(Json.Encode(Model.AwayTeam));

            //console.log('ddd',this.HomeTeam);
            //console.log('ccc',this.AwayTeam);
        },

        beforeMount() {

        },

        mounted() {


        }
    })
</script>






